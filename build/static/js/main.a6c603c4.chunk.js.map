{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","person","request","id","console","log","delete","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","onChange","type","Notification","message","print","style","color","background","fontSize","borderStyle","borderColor","borderRadius","padding","marginBottom","error","Filter","newFilter","handleFilterChange","Person","deletePerson","name","number","onClick","Display","persons","filter","search","toLowerCase","filteredResults","includes","map","key","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","newMessage","setNewMessage","useEffect","personService","personsData","event","target","preventDefault","window","confirm","find","responseData","personObject","concat","setTimeout","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a6c603c4.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst getOne =(id) => {\r\n    const request = axios.get(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = person => {\r\n    const request = axios.post(`${baseUrl}/${person.id}`, person)\r\n    console.log(request);\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {getAll, getOne, create, update, remove}","import React, { useState, useEffect } from \"react\";\r\nimport personService from \"./services/persons\";\r\n\r\nconst PersonForm = ({\r\n  addPerson,\r\n  newName,\r\n  handleNameChange,\r\n  newNumber,\r\n  handleNumberChange,\r\n}) => {\r\n  return (\r\n    <div>\r\n      <form onSubmit={addPerson}>\r\n        <div>\r\n          <p>\r\n            name:\r\n            <input value={newName} onChange={handleNameChange} />\r\n          </p>\r\n          <p>\r\n            number:\r\n            <input value={newNumber} onChange={handleNumberChange} />\r\n          </p>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  if (message.print === '') {\r\n    return null\r\n  }\r\n  \r\n  const ok = {\r\n    color: 'green',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderColor: 'green',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10\r\n  }\r\n\r\n  const error = {\r\n    color: 'red',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderColor: 'red',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10\r\n  }\r\n\r\n  let style = ok\r\n\r\n  if (message.error) {\r\n    style = error\r\n  } \r\n\r\n  return (\r\n    <div style={style}>\r\n      {message.print}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Filter = ({ newFilter, handleFilterChange }) => {\r\n  return (\r\n    <p>\r\n      filter shown with\r\n      <input value={newFilter} onChange={handleFilterChange} />\r\n    </p>\r\n  );\r\n};\r\n\r\nconst Person = ({ person, deletePerson}) => {\r\n  return (\r\n    <div>\r\n      <p>\r\n        {person.name} {person.number} id {person.id}\r\n        <button onClick={() => deletePerson(person.id)}> delete</button>\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Display = ({ persons, filter, deletePerson }) => {\r\n  const search = filter.toLowerCase();\r\n  const filteredResults = persons.filter((person) =>\r\n    person.name.toLowerCase().includes(search)\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      {filteredResults.map((person) => (\r\n        <Person key={person.name} person={person} deletePerson={deletePerson} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n  const [newFilter, setNewFilter] = useState(\"\");\r\n  const [newMessage, setNewMessage] = useState({print: '', error: false});\r\n\r\n  useEffect(() => {\r\n    personService.getAll().then((personsData) => setPersons(personsData));\r\n  }, [setPersons]);\r\n\r\n  const deletePerson = (id) => {\r\n    personService\r\n      .remove(id)\r\n      .then((responseData) => {\r\n        setNewMessage({print: `${responseData.name} was removed succesfully `, style: 'ok'})\r\n        setTimeout(() => setNewMessage(null), 2000)\r\n        setPersons(persons.filter((person) => person.id !== id))\r\n      })\r\n  }\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault();\r\n    const names = persons.map(person => person.name);\r\n\r\n    if (!names.includes(newName)) {\r\n      const personObject = {\r\n        name: newName,\r\n        number: newNumber\r\n      };\r\n      personService.create(personObject).then((responseData) => {\r\n        setPersons(persons.concat(responseData));\r\n        setNewName(\"\");\r\n        setNewNumber(\"\");\r\n        setNewMessage({print: `${personObject.name} added successfully `, style: 'ok'})\r\n        setTimeout(() => setNewMessage(null), 2000)\r\n      })\r\n    } else {\r\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n        const person = persons.find(person => person.name === newName)\r\n        personService\r\n          .update(person)\r\n          .then((responseData) => {\r\n          console.log(`succesfully changed ${responseData.name}`);\r\n        })\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleNameChange = (event) => setNewName(event.target.value);\r\n  const handleNumberChange = (event) => setNewNumber(event.target.value);\r\n  const handleFilterChange = (event) => setNewFilter(event.target.value);\r\n\r\n  return (\r\n    <div>\r\n      <Notification message={newMessage} />\r\n      <h2>Phonebook</h2>\r\n      <Filter newFilter={newFilter} handleFilterChange={handleFilterChange} />\r\n      <h3>Add a new</h3>\r\n      <PersonForm\r\n        addPerson={addPerson}\r\n        newName={newName}\r\n        newNumber={newNumber}\r\n        handleNumberChange={handleNumberChange}\r\n        handleNameChange={handleNameChange}\r\n      />\r\n      <h3>Numbers</h3>\r\n      <Display\r\n        persons={persons}\r\n        filter={newFilter}\r\n        deletePerson={deletePerson}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}