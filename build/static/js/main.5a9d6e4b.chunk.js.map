{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","request","console","log","delete","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","onChange","type","Notification","message","print","style","color","background","fontSize","borderStyle","borderColor","borderRadius","padding","marginBottom","error","Filter","newFilter","handleFilterChange","Person","person","deletePerson","name","number","onClick","Display","persons","filter","search","toLowerCase","filteredResults","includes","map","key","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","newMessage","setNewMessage","useEffect","personService","personsData","event","target","preventDefault","window","confirm","find","responseData","personObject","concat","setTimeout","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5a9d6e4b.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst getOne =(id) => {\r\n    const request = axios.get(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id) => {\r\n    const request = axios.post(baseUrl)\r\n    console.log(request);\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {getAll, getOne, create, update, remove}","import React, { useState, useEffect } from \"react\";\r\nimport personService from \"./services/persons\";\r\n\r\nconst PersonForm = ({\r\n  addPerson,\r\n  newName,\r\n  handleNameChange,\r\n  newNumber,\r\n  handleNumberChange,\r\n}) => {\r\n  return (\r\n    <div>\r\n      <form onSubmit={addPerson}>\r\n        <div>\r\n          <p>\r\n            name:\r\n            <input value={newName} onChange={handleNameChange} />\r\n          </p>\r\n          <p>\r\n            number:\r\n            <input value={newNumber} onChange={handleNumberChange} />\r\n          </p>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  if (message.print === '') {\r\n    return null\r\n  }\r\n  \r\n  const ok = {\r\n    color: 'green',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderColor: 'green',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10\r\n  }\r\n\r\n  const error = {\r\n    color: 'red',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderColor: 'red',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10\r\n  }\r\n\r\n  let style = ok\r\n\r\n  if (message.error) {\r\n    style = error\r\n  } \r\n\r\n  return (\r\n    <div style={style}>\r\n      {message.print}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Filter = ({ newFilter, handleFilterChange }) => {\r\n  return (\r\n    <p>\r\n      filter shown with\r\n      <input value={newFilter} onChange={handleFilterChange} />\r\n    </p>\r\n  );\r\n};\r\n\r\nconst Person = ({ person, deletePerson}) => {\r\n  return (\r\n    <div>\r\n      <p>\r\n        {person.name} {person.number} id {person.id}\r\n        <button onClick={() => deletePerson(person.id)}> delete</button>\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Display = ({ persons, filter, deletePerson }) => {\r\n  const search = filter.toLowerCase();\r\n  const filteredResults = persons.filter((person) =>\r\n    person.name.toLowerCase().includes(search)\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      {filteredResults.map((person) => (\r\n        <Person key={person.name} person={person} deletePerson={deletePerson} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n  const [newFilter, setNewFilter] = useState(\"\");\r\n  const [newMessage, setNewMessage] = useState({print: '', error: false});\r\n\r\n  useEffect(() => {\r\n    personService.getAll().then((personsData) => setPersons(personsData));\r\n  }, [setPersons]);\r\n\r\n  const deletePerson = (id) => {\r\n    personService\r\n      .remove(id)\r\n      .then((responseData) => {\r\n        setNewMessage({print: `${responseData.name} was removed succesfully `, style: 'ok'})\r\n        setTimeout(() => setNewMessage(null), 2000)\r\n        setPersons(persons.filter((person) => person.id !== id))\r\n      })\r\n  }\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault();\r\n    const names = persons.map(person => person.name);\r\n\r\n    if (!names.includes(newName)) {\r\n      const personObject = {\r\n        name: newName,\r\n        number: newNumber\r\n      };\r\n      personService.create(personObject).then((responseData) => {\r\n        setPersons(persons.concat(responseData));\r\n        setNewName(\"\");\r\n        setNewNumber(\"\");\r\n        setNewMessage({print: `${personObject.name} added successfully `, style: 'ok'})\r\n        setTimeout(() => setNewMessage(null), 2000)\r\n      })\r\n    } else {\r\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n        const person = persons.find(person => person.name === newName)\r\n        personService\r\n          .update(person)\r\n          .then((responseData) => {\r\n          console.log(`succesfully changed ${responseData.name}`);\r\n        })\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleNameChange = (event) => setNewName(event.target.value);\r\n  const handleNumberChange = (event) => setNewNumber(event.target.value);\r\n  const handleFilterChange = (event) => setNewFilter(event.target.value);\r\n\r\n  return (\r\n    <div>\r\n      <Notification message={newMessage} />\r\n      <h2>Phonebook</h2>\r\n      <Filter newFilter={newFilter} handleFilterChange={handleFilterChange} />\r\n      <h3>Add a new</h3>\r\n      <PersonForm\r\n        addPerson={addPerson}\r\n        newName={newName}\r\n        newNumber={newNumber}\r\n        handleNumberChange={handleNumberChange}\r\n        handleNameChange={handleNameChange}\r\n      />\r\n      <h3>Numbers</h3>\r\n      <Display\r\n        persons={persons}\r\n        filter={newFilter}\r\n        deletePerson={deletePerson}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}